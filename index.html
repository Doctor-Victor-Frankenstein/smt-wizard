<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Smart Media Token Creation Wizard</title>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"/>
    <script src="https://cdn.jsdelivr.net/npm/steem/dist/steem.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery.appendgrid@2.0.2/dist/AppendGrid.js"></script>

    <script type="application/javascript" src="js/util.js"></script>
    <link rel="stylesheet" type="text/css" href="css/base.css" media="screen" />
</head>
<body onload="initializeSteemJS(); addTokenEmission();">

<div id="content">

<form id="smt_form" onsubmit="createToken(); return false">

<!-- Token creation -->
<div class="form-page">
   <fieldset>
      <legend class="heading">Token creation</legend>

      <div class="row">
         <div class="form-group col-md-5">
            <label for="control_account">Control account</label>
            <input id="control_account" type="text" name="control_account" class="form-control" placeholder="@your_username" required>
         </div>

         <div class="form-group col-md-2">
            <label for="precision">Precision</label>
            <input id="precision" type="number" name="precision" class="form-control" min="0" max="255" value="3" required>
         </div>

         <div class="form-group col-md-4">
            <label for="max_supply">Max supply</label>
            <input id="max_supply" name="max_supply" class="form-control" type="number" min="0" max="9223372036854775807" required>
         </div>
      </div>

      <div class="row">
         <div class="form-group col-md-4">
            <label for="contribution_begin_time">Contribution begin time</label>
            <input id="contribution_begin_time" name="contribution_begin_time" class="form-control" type="datetime-local" required>
         </div>

         <div class="form-group col-md-4">
            <label for="contribution_end_time">Contribution end time</label>
            <input id="contribution_end_time" name="contribution_end_time" class="form-control" type="datetime-local" required>
         </div>

         <div class="form-group col-md-4">
            <label for="launch_time">Launch time</label>
            <input id="launch_time" name="launch_time" type="datetime-local" class="form-control" required>
         </div>
      </div>

      <div class="row">
         <div class="form-group col-md-4">
            <label for="steem_units_min">Steem units minimum</label>
            <input id="steem_units_min" name="steem_units_min" class="form-control" type="number" min="0" max="9223372036854775807" required>
         </div>

         <div class="form-group col-md-4">
            <label for="steem_units_soft_cap">Steem units soft cap</label>
            <input id="steem_units_soft_cap" name="steem_units_soft_cap" class="form-control" type="number" min="0" max="9223372036854775807" required>
         </div>

         <div class="form-group col-md-4">
            <label for="steem_units_hard_cap">Steem units hard cap</label>
            <input id="steem_units_hard_cap" name="steem_units_hard_cap" class="form-control" type="number" min="0" max="9223372036854775807" required>
         </div>
      </div>

      <!-- Initial generation policy -->
      <div class="row">
         <div class="form-group col-md-3">
            <label for="pre_soft_cap_steem_unit">Pre soft cap Steem unit</label>
            <table id="pre_soft_cap_steem_unit" class="flat-map"></table>
         </div>

         <div class="form-group col-md-3">
            <label for="pre_soft_cap_token_unit">Pre soft cap token unit</label>
            <table id="pre_soft_cap_token_unit" class="flat-map"></table>
         </div>

         <div class="form-group col-md-3">
            <label for="post_soft_cap_steem_unit">Post soft cap Steem unit</label>
            <table id="post_soft_cap_steem_unit" class="flat-map"></table>
         </div>

         <div class="form-group col-md-3">
            <label for="post_soft_cap_token_unit">Post soft cap token unit</label>
            <table id="post_soft_cap_token_unit" class="flat-map"></table>
         </div>
      </div>

      <div class="row">
         <div class="form-group col-md-3">
            <label for="min_unit_ratio">Minimum unit ratio</label>
            <input id="min_unit_ratio" name="min_unit_ratio" class="form-control" type="number" min="0" max="4294967295" required>
         </div>

         <div class="form-group col-md-3">
            <label for="max_unit_ratio">Maximum unit ratio</label>
            <input id="max_unit_ratio" name="max_unit_ratio" class="form-control" type="number" min="0" max="4294967295" required>
         </div>
      </div>

      <div class="form-group form-check">
         <input id="allow_voting" type="checkbox" name="allow_voting" class="form-check-input" onclick="onAllowVotingClicked(this);" checked>
         <label for="allow_voting" class="form-check-label">Allow voting</label>
      </div>

   </fieldset>
</div>

<!-- Token setup and runtime parameters -->

<div class="form-page" id="voting_options">
   <fieldset>
      <legend class="heading">Setup & runtime parameters</legend>

      <!-- Allow votes -->


      <!-- Allow downvotes -->
      <div class="form-group form-check">
         <input id="allow_downvoting" type="checkbox" name="allow_downvoting" class="form-check-input" checked>
         <label for="allow_downvoting" class="form-check-label">Allow downvotes</label>
      </div>

      <!-- Windows -->
      <div class="row">
         <div class="form-group col-md-4">
            <label for="cashout_window_seconds">Cashout window seconds</label>
            <input id="cashout_window_seconds" type="number" name="cashout_window_seconds" class="form-control" min="0" max="4294967295" value="3600">
         </div>

         <div class="form-group col-md-4">
            <label for="reverse_auction_window_seconds">Reverse auction window seconds</label>
            <input id="reverse_auction_window_seconds" type="number" name="reverse_auction_window_seconds" class="form-control" min="0" max="4294967295" value="300">
         </div>
      </div>

      <!-- Vote regeneration period -->
      <div class="row">
         <div class="form-group col-md-4">
            <label for="vote_regeneration_period_seconds">Vote regeneration period seconds</label>
            <input id="vote_regeneration_period_seconds" type="number" name="vote_regeneration_period_seconds" class="form-control" min="0" max="4294967295" value="432000">
         </div>

         <div class="form-group col-md-4">
            <label for="votes_per_regeneration_period">Votes per regeneration period</label>
            <input id="votes_per_regeneration_period" type="number" name="votes_per_regeneration_period" class="form-control" min="0" max="4294967295" value="600">
         </div>
      </div>

      <!-- Rewards -->
      <div class="row">
         <div class="form-group col-md-4">
            <label for="content_constant">Content constant</label>
            <input id="content_constant" type="number" name="content_constant" class="form-control" min="0" max="170141183460469231731687303715884105727" value="2000000000000">
         </div>

         <div class="form-group col-md-3">
            <label for="percent_curation_rewards">Percent curation rewards</label>
            <input id="percent_curation_rewards" type="number" name="percent_curation_rewards" class="form-control" min="0" max="100" value="50">
         </div>
      </div>

      <div class="row">
         <div class="form-group col-md-4">
            <label for="author_reward_curve">Author reward curve</label>
            <select name="author_reward_curve" id="author_reward_curve">
               <option value="quadratic">Quadratic</option>
               <option value="bounded_curation">Bounded curation</option>
               <option value="linear">Linear</option>
               <option value="square_root">Square root</option>
               <option value="convergent_linear" selected="selected">Convergent linear</option>
               <option value="convergent_square_root">Convergent square root</option>
            </select>
         </div>
         <div class="form-group col-md-4">
            <label for="curation_reward_curve">Curation reward curve</label>
            <select name="curation_reward_curve" id="curation_reward_curve">
               <option value="quadratic">Quadratic</option>
               <option value="bounded_curation">Bounded curation</option>
               <option value="linear">Linear</option>
               <option value="square_root">Square root</option>
               <option value="convergent_linear">Convergent linear</option>
               <option value="convergent_square_root" selected="selected">Convergent square root</option>
            </select>
         </div>
      </div>

   </fieldset>
</div>

<!-- Token emissions template -->
<fieldset id="token_emission_template">
   <legend class="heading">Token emission</legend>

   <div class="row">
      <div class="form-group col-md-4">
         <label for="schedule_time">Schedule time</label>
         <input id="schedule_time" name="schedule_time" class="form-control" type="datetime-local">
      </div>

      <div class="form-group col-md-4">
         <label for="lep_time">Left endpoint time</label>
         <input id="lep_time" name="lep_time" class="form-control" type="datetime-local">
      </div>

      <div class="form-group col-md-4">
         <label for="rep_time">Right endpoint time</label>
         <input id="rep_time" name="rep_time" class="form-control" type="datetime-local">
      </div>
   </div>

   <div class="row">
      <div class="form-group col-md-3">
         <label for="interval_seconds">Interval seconds</label>
         <input id="interval_seconds" name="interval_seconds" class="form-control" type="number" min="21600" max="4294967295" value="21600">
      </div>

      <div class="form-group col-md-2">
         <label for="interval_count">Interval count</label>
         <input id="interval_count" name="interval_count" class="form-control" type="number" min="0" max="4294967295" value="0">
      </div>
      <div class="form-group col-md-4">
         <label for="rel_amount_denom_bits">Relative denominator bits</label>
         <input id="rel_amount_denom_bits" name="rel_amount_denom_bits" class="form-control" type="number" min="0" max="255">
      </div>
   </div>

   <div class="row">
      <div class="form-group col-md-3">
         <label for="lep_abs_amount">Left endpoint amount</label>
         <input id="lep_abs_amount" name="lep_abs_amount" class="form-control" type="number" min="0" max="9223372036854775807">
      </div>

      <div class="form-group col-md-3">
         <label for="rep_abs_amount">Right endpoint amount</label>
         <input id="rep_abs_amount" name="rep_abs_amount" class="form-control" type="number" min="0" max="9223372036854775807">
      </div>

      <div class="form-group col-md-3">
         <label for="lep_rel_numerator">Left endpoint numerator</label>
         <input id="lep_rel_numerator" name="lep_rel_numerator" class="form-control" type="number" min="0" max="4294967295">
      </div>

      <div class="form-group col-md-3">
         <label for="rep_rel_numerator">Right endpoint numerator</label>
         <input id="rep_rel_numerator" name="rep_rel_numerator" class="form-control" type="number" min="0" max="4294967295">
      </div>
   </div>

   <div class="form-group form-check">
      <input id="floor_emissions" name="floor_emissions" class="form-check-input" type="checkbox">
      <label for="floor_emissions" class="form-check-label">Floor emissions</label>
   </div>

   <div class="form-group">
      <label for="emissions_unit">Emissions unit</label>
      <!--<textarea id="emissions_unit" name="emissions_unit" class="form-control" rows="10" cols="20" placeholder="Enter your text here..."></textarea>-->
      <table id="emissions_unit"></table>
   </div>
</fieldset>



<div class="form-page">
   <h3>Token Emissions</h3>
   <div id="token_emissions">
      <!-- generated fields here -->
   </div>   
   <hr />
   <button type="button" name="addTokenEmissionButton" class="btn btn-primary" onclick="addTokenEmission();">Add token emission</button>
   <button type="button" name="removeTokenEmissionButton" class="btn btn-primary" onclick="removeTokenEmission();">Remove token emission</button>
</div>


<div>
   <center>
      <button type="submit" name="createTokenButton" class="btn btn-lg btn-success" onclick="createToken(); return false">Create token</button>
   </center>
   <br />
   <br />
   <br />
</div>


</form>

</div>

</body>
</html>
